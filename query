postgresql

create table public.agent_availability (
  availability_id serial not null,
  agent_id character varying(255) not null,
  availability_date date not null,
  start_time time without time zone not null,
  end_time time without time zone not null,
  notes character varying(255) null,
  created_at timestamp with time zone null default now(),
  updated_at timestamp with time zone null default now(),
  status character varying(255) not null default 'Available'::character varying,
  booked_by_user_id character varying(255) null,
  constraint agent_availability_pkey primary key (availability_id),
  constraint agent_availability_agent_id_fkey foreign KEY (agent_id) references app_users (id) on delete CASCADE,
  constraint fkq0uc9r19c6tbtghuwejllfgou foreign KEY (booked_by_user_id) references app_users (id)
) TABLESPACE pg_default;


create table public.agent_availability_breaks (
  break_id serial not null,
  availability_id integer not null,
  break_start time without time zone not null,
  break_end time without time zone not null,
  created_at timestamp with time zone null default now(),
  constraint agent_availability_breaks_pkey primary key (break_id),
  constraint agent_availability_breaks_availability_id_fkey foreign KEY (availability_id) references agent_availability (availability_id) on delete CASCADE
) TABLESPACE pg_default;


create table public.app_users (
  id character varying(255) not null,
  category character varying(255) not null,
  country_code character varying(255) null,
  email character varying(255) not null,
  first_name character varying(255) null,
  last_name character varying(255) null,
  password character varying(255) not null,
  phone character varying(255) null,
  constraint app_users_pkey primary key (id),
  constraint uk4vj92ux8a2eehds1mdvmks473 unique (email),
  constraint app_users_category_check check (
    (
      (category)::text = any (
        (
          array[
            'USER'::character varying,
            'AGENT'::character varying,
            'ADMIN'::character varying
          ]
        )::text[]
      )
    )
  )
) TABLESPACE pg_default;